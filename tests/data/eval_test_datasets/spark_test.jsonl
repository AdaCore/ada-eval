{"name":"catches_missing_assertions","location":{"path":"src/integer_utils.ads","subprogram_name":"Increment"},"prompt":"","sources":{},"canonical_solution":{"main.adc":"pragma SPARK_Mode (On);\n","main.gpr":"project Main is\n   for Languages use (\"Ada\");\n\n   for Source_Dirs use (\"src\");\n   for Object_Dir use \"obj\";\n   for Create_Missing_Dirs use \"True\";\n\n   package Compiler is\n      for Default_Switches (\"Ada\") use (\n         \"-g\"         -- Generate debug info\n         ,\"-gnata\"    -- Enable assertions and contracts\n         ,\"-gnatW8\"   -- UTF-8 encoding for wide characters\n         ,\"-gnat2022\" -- Use Ada 2022 features\n      );\n   end Compiler;\n\n   package Builder is\n      for Global_Configuration_Pragmas use \"main.adc\";\n   end Builder;\n\nend Main;","src/integer_utils.adb":"package body Integer_Utils is\n   function Increment (X : Integer) return Integer is\n   begin\n      return X + 1;\n   end Increment;\n\nend Integer_Utils;\n","src/integer_utils.ads":"package Integer_Utils is\n   function Increment (X : Integer) return Integer;\n\nend Integer_Utils;\n"},"canonical_evaluation_results":[],"comments":"","unit_tests":{"tests/tests.adb":"with Ada.Assertions; use Ada.Assertions;\n\nwith Integer_Utils; use Integer_Utils;\n\nprocedure Tests is\n   procedure Check_Assertions_Enabled is\n   begin\n      begin\n         pragma Assert (False, \"Should raise\");\n      exception\n         when others =>\n            return; -- properly raised\n      end;\n      raise Program_Error with \"Assertions not enabled\";\n   end Check_Assertions_Enabled;\n\n   procedure Test_Count is\n   begin\n      pragma Assert (Increment (0) = 1, \"Increment(0) should be 1\");\n      pragma\n        Assert\n          (Increment (Integer'First) = Integer'Succ (Integer'First),\n           \"Increment(Integer'First) should be Integer'First + 1\");\n      begin\n         --  This is a nonsensical assertion that will always fail, but the\n         --  compiler isn't happy if we don't use the result of Increment.\n         pragma\n           Assert\n             (Increment (Integer'Last) /= Integer'Last,\n              \"X should not be Integer'Last\");\n         raise Program_Error\n           with \"Integer'Last + 1 should have raised a Constraint_Error\";\n      exception\n         when Constraint_Error =>\n            null; -- properly raised\n      end;\n   end Test_Count;\n\nbegin\n   Check_Assertions_Enabled;\n   Test_Count;\nend Tests;\n","tests.gpr":"with \"main.gpr\";\n\nproject Tests is\n   for Languages use (\"Ada\");\n\n   for Source_Dirs use (\"tests\");\n   for Object_Dir use \"obj\";\n   for Exec_Dir use \"bin\";\n   for Create_Missing_Dirs use \"True\";\n   for Main use (\"tests.adb\");\n\n   package Compiler is\n      for Default_Switches (\"Ada\") use (\n         \"-g\"         -- Generate debug info\n         -- ,\"-gnata\"    -- Enable assertions and contracts\n         ,\"-gnatW8\"   -- UTF-8 encoding for wide characters\n         ,\"-gnat2022\" -- Use Ada 2022 features\n      );\n   end Compiler;\n\nend Tests;"}}
{"name":"fails_to_build","location":{"path":"src/integer_utils.ads","subprogram_name":"Increment"},"prompt":"","sources":{},"canonical_solution":{"main.adc":"pragma SPARK_Mode (On);\n","main.gpr":"project Main is\n   for Languages use (\"Ada\");\n\n   for Source_Dirs use (\"src\");\n   for Object_Dir use \"obj\";\n   for Create_Missing_Dirs use \"True\";\n\n   package Compiler is\n      for Default_Switches (\"Ada\") use (\n         \"-g\"         -- Generate debug info\n         ,\"-gnata\"    -- Enable assertions and contracts\n         ,\"-gnatW8\"   -- UTF-8 encoding for wide characters\n         ,\"-gnat2022\" -- Use Ada 2022 features\n      );\n   end Compiler;\n\n   package Builder is\n      for Global_Configuration_Pragmas use \"main.adc\";\n   end Builder;\n\nend Main;","src/integer_utils.adb":"package body Integer_Utils is\n   function Increment (X : Integer) return Integer is\n   begin\n      return X + 1\n   end Increment;\n\nend Integer_Utils;\n","src/integer_utils.ads":"package Integer_Utils is\n   function Increment (X : Integer) return Integer;\n\nend Integer_Utils;\n"},"canonical_evaluation_results":[],"comments":"","unit_tests":{"tests/tests.adb":"with Ada.Assertions; use Ada.Assertions;\n\nwith Integer_Utils; use Integer_Utils;\n\nprocedure Tests is\n   procedure Check_Assertions_Enabled is\n   begin\n      begin\n         pragma Assert (False, \"Should raise\");\n      exception\n         when others =>\n            return; -- properly raised\n      end;\n      raise Program_Error with \"Assertions not enabled\";\n   end Check_Assertions_Enabled;\n\n   procedure Test_Count is\n   begin\n      pragma Assert (Increment (0) = 1, \"Increment(0) should be 1\");\n      pragma\n        Assert\n          (Increment (Integer'First) = Integer'Succ (Integer'First),\n           \"Increment(Integer'First) should be Integer'First + 1\");\n      begin\n         --  This is a nonsensical assertion that will always fail, but the\n         --  compiler isn't happy if we don't use the result of Increment.\n         pragma\n           Assert\n             (Increment (Integer'Last) /= Integer'Last,\n              \"X should not be Integer'Last\");\n         raise Program_Error\n           with \"Integer'Last + 1 should have raised a Constraint_Error\";\n      exception\n         when Constraint_Error =>\n            null; -- properly raised\n      end;\n   end Test_Count;\n\nbegin\n   Check_Assertions_Enabled;\n   Test_Count;\nend Tests;\n","tests.gpr":"with \"main.gpr\";\n\nproject Tests is\n   for Languages use (\"Ada\");\n\n   for Source_Dirs use (\"tests\");\n   for Object_Dir use \"obj\";\n   for Exec_Dir use \"bin\";\n   for Create_Missing_Dirs use \"True\";\n   for Main use (\"tests.adb\");\n\n   package Compiler is\n      for Default_Switches (\"Ada\") use (\n         \"-g\"         -- Generate debug info\n         ,\"-gnata\"    -- Enable assertions and contracts\n         ,\"-gnatW8\"   -- UTF-8 encoding for wide characters\n         ,\"-gnat2022\" -- Use Ada 2022 features\n      );\n   end Compiler;\n\nend Tests;"}}
{"name":"ignores_warnings","location":{"path":"src/integer_utils.ads","subprogram_name":"Increment"},"prompt":"","sources":{},"canonical_solution":{"main.adc":"pragma SPARK_Mode (On);\n","main.gpr":"project Main is\n   for Languages use (\"Ada\");\n\n   for Source_Dirs use (\"src\");\n   for Object_Dir use \"obj\";\n   for Create_Missing_Dirs use \"True\";\n\n   package Compiler is\n      for Default_Switches (\"Ada\") use (\n         \"-g\"         -- Generate debug info\n         ,\"-gnata\"    -- Enable assertions and contracts\n         ,\"-gnatW8\"   -- UTF-8 encoding for wide characters\n         ,\"-gnat2022\" -- Use Ada 2022 features\n      );\n   end Compiler;\n\n   package Builder is\n      for Global_Configuration_Pragmas use \"main.adc\";\n   end Builder;\n\nend Main;","src/integer_utils.adb":"package body Integer_Utils is\n   function Increment (X : Integer) return Integer is\n      Not_Used : Integer := 42;\n   begin\n      return X + 1;\n   end Increment;\n\nend Integer_Utils;\n","src/integer_utils.ads":"package Integer_Utils is\n   function Increment (X : Integer) return Integer;\n\nend Integer_Utils;\n"},"canonical_evaluation_results":[],"comments":"","unit_tests":{"tests/tests.adb":"with Ada.Assertions; use Ada.Assertions;\n\nwith Integer_Utils; use Integer_Utils;\n\nprocedure Tests is\n   procedure Check_Assertions_Enabled is\n   begin\n      begin\n         pragma Assert (False, \"Should raise\");\n      exception\n         when others =>\n            return; -- properly raised\n      end;\n      raise Program_Error with \"Assertions not enabled\";\n   end Check_Assertions_Enabled;\n\n   procedure Test_Count is\n   begin\n      pragma Assert (Increment (0) = 1, \"Increment(0) should be 1\");\n      pragma\n        Assert\n          (Increment (Integer'First) = Integer'Succ (Integer'First),\n           \"Increment(Integer'First) should be Integer'First + 1\");\n      begin\n         --  This is a nonsensical assertion that will always fail, but the\n         --  compiler isn't happy if we don't use the result of Increment.\n         pragma\n           Assert\n             (Increment (Integer'Last) /= Integer'Last,\n              \"X should not be Integer'Last\");\n         raise Program_Error\n           with \"Integer'Last + 1 should have raised a Constraint_Error\";\n      exception\n         when Constraint_Error =>\n            null; -- properly raised\n      end;\n   end Test_Count;\n\nbegin\n   Check_Assertions_Enabled;\n   Test_Count;\nend Tests;\n","tests.gpr":"with \"main.gpr\";\n\nproject Tests is\n   for Languages use (\"Ada\");\n\n   for Source_Dirs use (\"tests\");\n   for Object_Dir use \"obj\";\n   for Exec_Dir use \"bin\";\n   for Create_Missing_Dirs use \"True\";\n   for Main use (\"tests.adb\");\n\n   package Compiler is\n      for Default_Switches (\"Ada\") use (\n         \"-g\"         -- Generate debug info\n         ,\"-gnata\"    -- Enable assertions and contracts\n         ,\"-gnatW8\"   -- UTF-8 encoding for wide characters\n         ,\"-gnat2022\" -- Use Ada 2022 features\n      );\n   end Compiler;\n\nend Tests;"}}
{"name":"passes","location":{"path":"src/integer_utils.ads","subprogram_name":"Increment"},"prompt":"","sources":{},"canonical_solution":{"main.adc":"pragma SPARK_Mode (On);\n","main.gpr":"project Main is\n   for Languages use (\"Ada\");\n\n   for Source_Dirs use (\"src\");\n   for Object_Dir use \"obj\";\n   for Create_Missing_Dirs use \"True\";\n\n   package Compiler is\n      for Default_Switches (\"Ada\") use (\n         \"-g\"         -- Generate debug info\n         ,\"-gnata\"    -- Enable assertions and contracts\n         ,\"-gnatW8\"   -- UTF-8 encoding for wide characters\n         ,\"-gnat2022\" -- Use Ada 2022 features\n      );\n   end Compiler;\n\n   package Builder is\n      for Global_Configuration_Pragmas use \"main.adc\";\n   end Builder;\n\nend Main;","src/integer_utils.adb":"package body Integer_Utils is\n   function Increment (X : Integer) return Integer is\n   begin\n      return X + 1;\n   end Increment;\n\nend Integer_Utils;\n","src/integer_utils.ads":"package Integer_Utils is\n   function Increment (X : Integer) return Integer;\n\nend Integer_Utils;\n"},"canonical_evaluation_results":[],"comments":"","unit_tests":{"tests/tests.adb":"with Ada.Assertions; use Ada.Assertions;\n\nwith Integer_Utils; use Integer_Utils;\n\nprocedure Tests is\n   procedure Check_Assertions_Enabled is\n   begin\n      begin\n         pragma Assert (False, \"Should raise\");\n      exception\n         when others =>\n            return; -- properly raised\n      end;\n      raise Program_Error with \"Assertions not enabled\";\n   end Check_Assertions_Enabled;\n\n   procedure Test_Count is\n   begin\n      pragma Assert (Increment (0) = 1, \"Increment(0) should be 1\");\n      pragma\n        Assert\n          (Increment (Integer'First) = Integer'Succ (Integer'First),\n           \"Increment(Integer'First) should be Integer'First + 1\");\n      begin\n         --  This is a nonsensical assertion that will always fail, but the\n         --  compiler isn't happy if we don't use the result of Increment.\n         pragma\n           Assert\n             (Increment (Integer'Last) /= Integer'Last,\n              \"X should not be Integer'Last\");\n         raise Program_Error\n           with \"Integer'Last + 1 should have raised a Constraint_Error\";\n      exception\n         when Constraint_Error =>\n            null; -- properly raised\n      end;\n   end Test_Count;\n\nbegin\n   Check_Assertions_Enabled;\n   Test_Count;\nend Tests;\n","tests.gpr":"with \"main.gpr\";\n\nproject Tests is\n   for Languages use (\"Ada\");\n\n   for Source_Dirs use (\"tests\");\n   for Object_Dir use \"obj\";\n   for Exec_Dir use \"bin\";\n   for Create_Missing_Dirs use \"True\";\n   for Main use (\"tests.adb\");\n\n   package Compiler is\n      for Default_Switches (\"Ada\") use (\n         \"-g\"         -- Generate debug info\n         ,\"-gnata\"    -- Enable assertions and contracts\n         ,\"-gnatW8\"   -- UTF-8 encoding for wide characters\n         ,\"-gnat2022\" -- Use Ada 2022 features\n      );\n   end Compiler;\n\nend Tests;"}}
{"name":"test_fails","location":{"path":"src/integer_utils.ads","subprogram_name":"Increment"},"prompt":"","sources":{},"canonical_solution":{"main.adc":"pragma SPARK_Mode (On);\n","main.gpr":"project Main is\n   for Languages use (\"Ada\");\n\n   for Source_Dirs use (\"src\");\n   for Object_Dir use \"obj\";\n   for Create_Missing_Dirs use \"True\";\n\n   package Compiler is\n      for Default_Switches (\"Ada\") use (\n         \"-g\"         -- Generate debug info\n         ,\"-gnata\"    -- Enable assertions and contracts\n         ,\"-gnatW8\"   -- UTF-8 encoding for wide characters\n         ,\"-gnat2022\" -- Use Ada 2022 features\n      );\n   end Compiler;\n\n   package Builder is\n      for Global_Configuration_Pragmas use \"main.adc\";\n   end Builder;\n\nend Main;","src/integer_utils.adb":"package body Integer_Utils is\n   function Increment (X : Integer) return Integer is\n   begin\n      return X + 2;\n   end Increment;\n\nend Integer_Utils;\n","src/integer_utils.ads":"package Integer_Utils is\n   function Increment (X : Integer) return Integer;\n\nend Integer_Utils;\n"},"canonical_evaluation_results":[],"comments":"","unit_tests":{"tests/tests.adb":"with Ada.Assertions; use Ada.Assertions;\n\nwith Integer_Utils; use Integer_Utils;\n\nprocedure Tests is\n   procedure Check_Assertions_Enabled is\n   begin\n      begin\n         pragma Assert (False, \"Should raise\");\n      exception\n         when others =>\n            return; -- properly raised\n      end;\n      raise Program_Error with \"Assertions not enabled\";\n   end Check_Assertions_Enabled;\n\n   procedure Test_Count is\n   begin\n      pragma Assert (Increment (0) = 1, \"Increment(0) should be 1\");\n      pragma\n        Assert\n          (Increment (Integer'First) = Integer'Succ (Integer'First),\n           \"Increment(Integer'First) should be Integer'First + 1\");\n      begin\n         --  This is a nonsensical assertion that will always fail, but the\n         --  compiler isn't happy if we don't use the result of Increment.\n         pragma\n           Assert\n             (Increment (Integer'Last) /= Integer'Last,\n              \"X should not be Integer'Last\");\n         raise Program_Error\n           with \"Integer'Last + 1 should have raised a Constraint_Error\";\n      exception\n         when Constraint_Error =>\n            null; -- properly raised\n      end;\n   end Test_Count;\n\nbegin\n   Check_Assertions_Enabled;\n   Test_Count;\nend Tests;\n","tests.gpr":"with \"main.gpr\";\n\nproject Tests is\n   for Languages use (\"Ada\");\n\n   for Source_Dirs use (\"tests\");\n   for Object_Dir use \"obj\";\n   for Exec_Dir use \"bin\";\n   for Create_Missing_Dirs use \"True\";\n   for Main use (\"tests.adb\");\n\n   package Compiler is\n      for Default_Switches (\"Ada\") use (\n         \"-g\"         -- Generate debug info\n         ,\"-gnata\"    -- Enable assertions and contracts\n         ,\"-gnatW8\"   -- UTF-8 encoding for wide characters\n         ,\"-gnat2022\" -- Use Ada 2022 features\n      );\n   end Compiler;\n\nend Tests;"}}
